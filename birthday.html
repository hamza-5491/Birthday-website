<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Birthday Wishes â€” Dark Interactive (Production)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--glass: rgba(255,255,255,0.03);--muted:#9ca3af}
    html,body{height:100%}
    body{background: radial-gradient(1200px 600px at 10% 10%, #0b1020 0%, #05060a 30%, #03040a 100%);color:#e6eef8;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}

    /* overlay shape */
    .shape-wrap{width:160px;height:160px;border-radius:9999px;background:linear-gradient(135deg,#ff6b9a,#ff4d6d);display:flex;align-items:center;justify-content:center;box-shadow:0 18px 50px rgba(255,77,109,0.12), 0 6px 20px rgba(0,0,0,0.6);position:relative}

    /* heart morph */
    .heart-svg{width:120px;height:120px;transform-origin:center center;transition:transform .9s cubic-bezier(.2,.9,.2,1), opacity .6s}
    .heart-show{transform:scale(1) rotate(-6deg);opacity:1}
    .heart-hide{transform:scale(.35) rotate(0deg);opacity:0}

    /* pulse behind heart */
    .pulse-ring{position:absolute;width:260px;height:260px;border-radius:9999px;background:radial-gradient(circle at 30% 30%, rgba(255,107,154,0.12), transparent 30%);filter:blur(30px);opacity:0;transform:scale(.6);transition:opacity .6s, transform .6s}
    .pulse-ring.show{opacity:1;transform:scale(1)}

    /* overlay text */
    .overlay-text{color:#dbeafe;font-weight:700;opacity:0;transform:translateY(10px);transition:opacity .6s, transform .6s}

    /* countdown cards */
    .count-card{backdrop-filter: blur(6px);background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}

    @keyframes conf{0%{transform:translateY(-10vh) rotate(0)}100%{transform:translateY(120vh) rotate(720deg)}}
    @keyframes floatUp{0%{transform:translateY(90vh) scale(.9)}100%{transform:translateY(-30vh) scale(1)}}

    /* small card pop from big card */
    .small-card{width:320px;height:180px;border-radius:14px;box-shadow:0 20px 70px rgba(2,6,23,.6);transform-origin:center bottom;opacity:0;transform:translateY(40px) scale(.96);transition:transform .6s cubic-bezier(.2,.9,.2,1), opacity .5s, filter .4s}
    .small-card.show{opacity:1;transform:translateY(-140px) scale(1)}
    .small-card.prev-blur{filter:blur(5px) saturate(.85) brightness(.85);opacity:.6;transform:translateY(-140px) scale(.98)}

    .big-card{width:460px;height:240px;border-radius:18px;box-shadow:0 30px 100px rgba(2,6,23,.7)}

    .slide{min-width:100%;height:360px;border-radius:12px;background-size:cover;background-position:center;transition:transform .9s cubic-bezier(.2,.9,.2,1), opacity .6s}
    .slide.fade-out{opacity:0;transform:scale(.98)}

    .typing-cursor::after{content:'|';margin-left:6px;animation:blink 1s steps(2) infinite;color:#93c5fd}
    @keyframes blink{50%{opacity:0}}

    @media (max-width:640px){
      .big-card{width:340px;height:200px}
      .small-card{width:280px;height:150px}
      .shape-wrap{width:120px;height:120px}
      .pulse-ring{width:190px;height:190px}
      .slide{height:260px}
    }
  </style>
</head>
<body class="antialiased">
  <!-- OVERLAY -->
  <div id="overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-b from-black/60 to-transparent">
    <div class="flex flex-col items-center gap-4 text-center">
      <div id="pulse" class="pulse-ring" aria-hidden="true"></div>
      <div id="shape" class="shape-wrap" aria-hidden="true">
        <svg id="heart" class="heart-svg heart-hide" viewBox="0 0 32 29" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#ff9bb8"/>
              <stop offset="1" stop-color="#ff5572"/>
            </linearGradient>
            <filter id="f1" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="6" result="b"/>
              <feBlend in="SourceGraphic" in2="b" />
            </filter>
          </defs>
          <g filter="url(#f1)">
            <path d="M16 27s-8.6-5.8-13-9.6C-0.6 11.6 3 6 7.7 6c2.3 0 3.8 1 4.8 2.3 1-1.3 2.5-2.3 4.8-2.3 4.7 0 8.3 5.6 4.7 11.4-4.4 3.8-13 9.6-13 9.6z" fill="url(#g1)" />
          </g>
        </svg>
      </div>
      <p id="overlayText" class="overlay-text text-lg">preparing something special...</p>
    </div>
  </div>

  <main id="main" class="max-w-4xl mx-auto px-4 py-10 space-y-8">
    <!-- COUNTDOWN -->
    <section id="countdownSection" class="hidden rounded-2xl p-6">
      <h2 class="text-center text-3xl font-extrabold tracking-tight">Birthday countdown</h2>
      <p class="text-center text-sm text-gray-400 mt-1">The magical moment approaches...</p>

      <div class="mt-6 grid grid-cols-2 sm:grid-cols-4 gap-4">
        <div class="count-card count-card-days p-4 rounded-xl text-center text-white">
          <div class="text-xs uppercase opacity-70">Days</div>
          <div id="days" class="text-4xl font-bold mt-2">0</div>
        </div>
        <div class="count-card count-card-hours p-4 rounded-xl text-center text-white">
          <div class="text-xs uppercase opacity-70">Hours</div>
          <div id="hours" class="text-4xl font-bold mt-2">0</div>
        </div>
        <div class="count-card count-card-minutes p-4 rounded-xl text-center text-white">
          <div class="text-xs uppercase opacity-70">Minutes</div>
          <div id="minutes" class="text-4xl font-bold mt-2">0</div>
        </div>
        <div class="count-card count-card-seconds p-4 rounded-xl text-center text-white">
          <div class="text-xs uppercase opacity-70">Seconds</div>
          <div id="seconds" class="text-4xl font-bold mt-2">0</div>
        </div>
      </div>
    </section>

    <!-- PARTY -->
    <section id="partySection" class="hidden rounded-2xl p-6 text-center">
      <div class="text-5xl">ðŸŽ‰</div>
      <h3 class="text-2xl font-semibold mt-2">Time to celebrate</h3>
      <p class="text-sm text-gray-400">The moment has arrived â€” let's party!</p>
      <div class="mt-6">
        <button id="letsCelebrateBtn" class="px-6 py-3 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-semibold shadow-lg">Let's celebrate</button>
      </div>
    </section>

    <!-- CAKE -->
    <section id="cakeSection" class="hidden rounded-2xl p-6 text-center relative overflow-hidden">
      <h3 class="text-3xl font-bold">Happy birthday, Madam Ji</h3>
      <p class="text-sm text-gray-400">It's your special day</p>

      <div class="mt-8 flex justify-center">
        <svg viewBox="0 0 300 220" class="w-72 h-56" xmlns="http://www.w3.org/2000/svg">
          <ellipse cx="150" cy="200" rx="90" ry="12" fill="rgba(255,255,255,0.04)" />
          <rect x="60" y="90" rx="16" ry="16" width="180" height="90" fill="#fff" opacity="0.98" />
          <path d="M60 110 C90 80, 120 140, 150 110 C180 80, 210 140, 240 110 L240 90 L60 90 Z" fill="#ff9bb8" opacity="0.97" />
          <g transform="translate(110,60)">
            <rect x="6" y="18" width="6" height="30" rx="3" fill="#ffd27a" />
            <rect x="22" y="10" width="6" height="38" rx="3" fill="#ffd27a" />
            <rect x="38" y="18" width="6" height="30" rx="3" fill="#ffd27a" />
            <ellipse cx="9" cy="14" rx="5" ry="8" fill="#ffd866">
              <animate attributeName="cy" values="14;12;14" dur="1s" repeatCount="indefinite"/>
            </ellipse>
            <ellipse cx="25" cy="6" rx="5" ry="8" fill="#ffd866">
              <animate attributeName="cy" values="6;4;6" dur="1.02s" repeatCount="indefinite"/>
            </ellipse>
            <ellipse cx="41" cy="14" rx="5" ry="8" fill="#ffd866">
              <animate attributeName="cy" values="14;12;14" dur="1.1s" repeatCount="indefinite"/>
            </ellipse>
          </g>
          <text x="150" y="150" fill="#6b7280" font-size="12" text-anchor="middle">Make a wish ðŸŽ‚</text>
        </svg>
      </div>

      <div id="balloonsContainer" class="pointer-events-none absolute inset-0 overflow-hidden"></div>

      <div class="mt-6">
        <button id="continueMagicBtn" class="px-6 py-3 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-semibold shadow-lg">Continue to magic</button>
      </div>
    </section>

    <!-- MAGIC CARDS -->
    <section id="magicSection" class="hidden rounded-2xl p-6 text-center">
      <h3 class="text-2xl font-semibold">Tap to open your first message</h3>
      <div class="mt-6 flex justify-center">
        <div id="bigCard" class="big-card bg-gradient-to-r from-slate-800 to-slate-700 p-6 rounded-2xl text-left text-white flex flex-col justify-between cursor-pointer">
          <div>
            <div class="text-sm opacity-70">Tap here</div>
            <div class="text-xl font-bold mt-2">Your first surprise</div>
          </div>
          <div class="text-xs opacity-60">Tap multiple times to reveal more</div>
        </div>
      </div>

      <div id="smallCards" class="relative mt-6 h-56 flex items-end justify-center pointer-events-none"></div>

      <div class="mt-6">
        <button id="memoriesBtn" class="px-6 py-3 rounded-full bg-gradient-to-r from-emerald-400 to-teal-500 text-white font-semibold shadow-lg">Memories</button>
      </div>
    </section>

    <!-- MEMORIES -->
    <section id="memoriesSection" class="hidden rounded-2xl p-6 text-center">
      <h3 class="text-2xl font-semibold">Memories</h3>
      <div class="mt-6 relative">
        <div id="slider" class="w-full h-80 overflow-hidden rounded-xl">
          <div id="slides" class="flex transition-transform duration-700"></div>
        </div>
      </div>

      <div class="mt-6">
        <button id="oneLastThing" class="px-6 py-3 rounded-full bg-gradient-to-r from-yellow-400 to-orange-400 text-white font-semibold shadow-lg">One last thing</button>
      </div>
    </section>

    <!-- LETTER -->
    <section id="letterSection" class="hidden rounded-2xl p-6 text-center">
      <h3 class="text-2xl font-semibold">A little letter</h3>
      <div class="mt-6 bg-gray-900 p-4 rounded-lg text-left max-w-prose mx-auto shadow-sm">
        <p id="letterText" class="text-gray-200 text-base typing-cursor whitespace-pre-wrap"></p>
      </div>
    </section>

  </main>

  <script>
    /* ========== CONFIG ========== */
    // demo uses a 10-second countdown for quick testing; change as needed
    const countdownSeconds = 10;
    let targetDate = new Date(Date.now() + countdownSeconds * 1000);

    // card messages (change these to your preferred messages)
    const cardMessages = [
      'ðŸŒ¸ You make every day brighter',
      'ðŸŽ‚ Hope your day is full of smiles',
      'ðŸ’– You deserve all the happiness',
      'âœ¨ Keep shining always'
    ];

    // slider images (Unsplash sample). Replace with your own URLs if needed.
    const images = [
      'https://images.unsplash.com/photo-1517817748498-5739b1b8b1eb?auto=format&fit=crop&w=1400&q=80',
      'https://images.unsplash.com/photo-1523755231516-e43fd2e8dca5?auto=format&fit=crop&w=1400&q=80',
      'https://images.unsplash.com/photo-1511988617509-a57c8a288659?auto=format&fit=crop&w=1400&q=80',
      'https://images.unsplash.com/photo-1508973375-5cdd6c0c2a75?auto=format&fit=crop&w=1400&q=80'
    ];

    /* ===== Overlay (5s, smooth fade) ===== */
    const overlay = document.getElementById('overlay');
    const heart = document.getElementById('heart');
    const overlayText = document.getElementById('overlayText');
    const pulse = document.getElementById('pulse');

    setTimeout(()=>{ overlayText.style.opacity='1'; overlayText.style.transform='translateY(0)'; }, 200);
    setTimeout(()=>{ pulse.classList.add('show'); heart.classList.remove('heart-hide'); heart.classList.add('heart-show'); }, 700);

    // show overlay for exactly 5 seconds then smooth fade
    setTimeout(()=>{
      overlay.style.transition = 'opacity .8s ease, transform .8s ease';
      overlay.style.opacity = 0;
      overlay.style.transform = 'scale(.98)';
      setTimeout(()=>overlay.remove(), 900);
      // reveal countdown
      showSection('countdownSection');
      startCountdown();
    }, 5000);

    /* ===== Countdown ===== */
    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');
    const secondsEl = document.getElementById('seconds');
    let countdownInterval;

    function startCountdown(){ updateCountdown(); countdownInterval = setInterval(updateCountdown, 250); }
    function updateCountdown(){ const now=new Date(); const diff=Math.max(0,targetDate-now); if(diff<=0){ clearInterval(countdownInterval); daysEl.textContent='0'; hoursEl.textContent='0'; minutesEl.textContent='0'; secondsEl.textContent='0'; showSection('partySection'); playConfetti(); return; } const totalSec=Math.floor(diff/1000); const sec=totalSec%60; const min=Math.floor(totalSec/60)%60; const hrs=Math.floor(totalSec/3600)%24; const days=Math.floor(totalSec/3600/24); daysEl.textContent=days; hoursEl.textContent=hrs; minutesEl.textContent=min; secondsEl.textContent=sec; }

    /* ===== Confetti ===== */
    function playConfetti(){ const party=document.getElementById('partySection'); for(let i=0;i<80;i++){ const c=document.createElement('div'); c.style.position='absolute'; c.style.left=Math.random()*100+'%'; c.style.top='-10%'; c.style.width=(6+Math.random()*8)+'px'; c.style.height=(8+Math.random()*12)+'px'; c.style.background=`hsl(${Math.random()*360} 85% 60%)`; c.style.opacity=0.95; c.style.borderRadius='2px'; c.style.transform=`rotate(${Math.random()*360}deg)`; c.style.animation=`conf ${1.6+Math.random()*1.6}s linear forwards`; party.appendChild(c); setTimeout(()=>c.remove(),5200); } }

    /* ===== Helpers ===== */
    function hideAllSections(){ document.querySelectorAll('main > section').forEach(s=>s.classList.add('hidden')) }
    function showSection(id){ hideAllSections(); const el=document.getElementById(id); if(el) el.classList.remove('hidden'); window.scrollTo({top:0,behavior:'smooth'}); }

    document.getElementById('letsCelebrateBtn').addEventListener('click', ()=>{ showSection('cakeSection'); startBalloons(); });

    /* ===== Balloons ===== */
    const balloonsContainer = document.getElementById('balloonsContainer');
    function startBalloons(){ balloonsContainer.innerHTML=''; for(let i=0;i<12;i++){ const b=document.createElement('div'); b.style.position='absolute'; const left=6+Math.random()*88; b.style.left=left+'%'; b.style.bottom='-20%'; b.style.width='44px'; b.style.height='60px'; b.style.borderRadius='999px'; b.style.boxShadow='0 12px 30px rgba(2,6,23,.6)'; b.style.background=`linear-gradient(180deg, hsl(${Math.random()*360} 90% 70%), hsl(${Math.random()*360} 90% 50%))`; b.style.animation=`floatUp ${6+Math.random()*6}s linear forwards`; balloonsContainer.appendChild(b); setTimeout(()=>b.remove(),12000); const s=document.createElement('div'); s.style.width='2px'; s.style.height='60px'; s.style.background='rgba(255,255,255,0.03)'; s.style.position='absolute'; s.style.bottom='-60px'; s.style.left='20px'; b.appendChild(s); } }

    document.getElementById('continueMagicBtn').addEventListener('click', ()=>{ showSection('magicSection'); });

    /* ===== Magic cards ===== */
    const bigCard = document.getElementById('bigCard');
    const smallCards = document.getElementById('smallCards');
    let spawnCount = 0; const maxSpawn = Math.min(4, cardMessages.length);

    function clearPrevBlurs(){ const nodes = smallCards.querySelectorAll('.small-card'); nodes.forEach((n,i)=>{ n.classList.remove('prev-blur'); if(i < nodes.length-1) n.classList.add('prev-blur'); else n.classList.remove('prev-blur'); }) }

    bigCard.addEventListener('click', ()=>{
      if(spawnCount >= maxSpawn) return; const msg = cardMessages[spawnCount] || `Surprise ${spawnCount+1}`; spawnCount++;
      const card = document.createElement('div'); card.className='small-card bg-gradient-to-r from-pink-500 to-rose-400 text-white p-4 absolute flex flex-col justify-center items-center text-center';
      card.style.left='50%'; card.style.transform='translateX(-50%) translateY(40px) scale(.96)'; card.style.zIndex = 100 + spawnCount;

      // compute offset based on spawnCount and screen width for mobile-friendly centering
      let offsetBase = (spawnCount - 1) * 120 - 120; // -120, 0, 120, 240
      const scale = window.innerWidth < 640 ? 0.28 : 1; // reduce offsets on mobile
      const offsetX = Math.round(offsetBase * scale);
      card.dataset.offsetX = offsetX;
      card.innerHTML = `<div class="text-lg font-semibold">${msg}</div>`;
      smallCards.appendChild(card);

      // animate into view like popping up from big card
      setTimeout(()=>{
        card.style.transition = 'transform .6s cubic-bezier(.2,.9,.2,1), opacity .5s, left .6s';
        card.style.left = `calc(50% + ${offsetX}px)`;
        card.style.transform = 'translateX(-50%) translateY(-130px) scale(1)';
        card.classList.add('show');
        clearPrevBlurs();
      },50);

      // blur earlier cards
      const nodes = smallCards.querySelectorAll('.small-card'); nodes.forEach((n,i)=>{ if(n !== card) n.classList.add('prev-blur'); });
    });

    document.getElementById('memoriesBtn').addEventListener('click', ()=>{ showSection('memoriesSection'); populateSlides(); });

    /* ===== Beautiful slider (autoplay 4s) ===== */
    const slidesEl = document.getElementById('slides');
    let currentSlide = 0; let slideInterval;

    function populateSlides(){ slidesEl.innerHTML=''; images.forEach((src,i)=>{ const s=document.createElement('div'); s.className='slide flex-shrink-0 rounded-xl'; s.style.backgroundImage = `linear-gradient(180deg, rgba(2,6,23,0.25), rgba(2,6,23,0.25)), url(${src})`; s.style.backgroundSize='cover'; s.style.backgroundPosition='center'; // overlay content
      const inner = document.createElement('div'); inner.className='w-full h-full flex items-end p-4'; inner.innerHTML = `<div class="bg-black/40 p-3 rounded-md backdrop-blur-sm max-w-xl text-left"> <div class="text-lg font-semibold text-white">Memories</div> <div class="text-sm text-gray-200 mt-1">A beautiful moment to remember</div></div>`; s.appendChild(inner); slidesEl.appendChild(s); }); updateSlider(); startAutoSlide(); }

    function updateSlider(){ slidesEl.style.transform = `translateX(-${currentSlide * 100}%)`; }
    function startAutoSlide(){ clearInterval(slideInterval); slideInterval = setInterval(()=>{ const prev = currentSlide; currentSlide = (currentSlide+1) % images.length; // nice crossfade: briefly add fade-out to previous
        const nodes = slidesEl.querySelectorAll('.slide'); if(nodes[prev]) nodes[prev].classList.add('fade-out'); setTimeout(()=>{ if(nodes[prev]) nodes[prev].classList.remove('fade-out'); updateSlider(); }, 60); }, 4000); }

    document.getElementById('oneLastThing').addEventListener('click', ()=>{ showSection('letterSection'); startTyping(letterContent(), document.getElementById('letterText')); });

    function letterContent(){ return `Dearest Madam Ji,

Today the stars seem closer and every little thing sings for you. Thank you for the warmth you share, and for filling every moment with meaning. May your year be bright with laughter, dreamy with surprises, and full of the love you give to everyone around you. Happy birthday â€” you are deeply cherished.

With love,` }

    function startTyping(text, el){ el.textContent = ''; let i=0; const speed=26; const t=setInterval(()=>{ if(i>=text.length){ clearInterval(t); el.classList.remove('typing-cursor'); return; } const ch=text[i++]; el.textContent += ch; }, speed); }

    /* ===== init gradients & styles ===== */
    (function init(){ document.querySelector('.count-card-days').style.background='linear-gradient(135deg,#7c3aed,#0ea5e9)'; document.querySelector('.count-card-hours').style.background='linear-gradient(135deg,#f97316,#fb7185)'; document.querySelector('.count-card-minutes').style.background='linear-gradient(135deg,#34d399,#06b6d4)'; document.querySelector('.count-card-seconds').style.background='linear-gradient(135deg,#f59e0b,#ef4444)'; })();

    // notes for quick customization:
    // - change `countdownSeconds` at the top to set a different countdown length (in seconds)
    // - edit `cardMessages` array to change the 4 card texts
    // - edit `images` array to replace slider images
    // - edit `letterContent()` to change the final letter

  </script>
</body>
</html>
